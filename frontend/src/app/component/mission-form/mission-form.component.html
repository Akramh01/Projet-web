<div class="overlay" *ngIf="isOpen" (click)="closeForm()"></div>
<div class="popup-form" *ngIf="isOpen">
  <h2>Nouvelle mission</h2>
  <form [formGroup]="missionForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="title">Nom mission</label>
      <input id="title" type="text" formControlName="titre" required />
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <textarea id="description" formControlName="description" required></textarea>
    </div>

    <div class="form-group">
      <label for="startDate">Date Début</label>
      <input id="startDate" type="date" formControlName="date_debut" required />
    </div>

    <div class="form-group">
      <label for="endDate">Date Fin</label>
      <input id="endDate" type="date" formControlName="date_fin" required />
    </div>

    <div class="form-group">
      <label>Priorité</label>
      <div class="radio-group">
        <label>
          <input type="radio" formControlName="priority" value="basse" /> Basse
        </label>
        <label>
          <input type="radio" formControlName="priority" value="moyenne" /> Moyenne
        </label>
        <label>
          <input type="radio" formControlName="priority" value="haute" /> Haute
        </label>
      </div>
    </div>


    <div class="form-group">
      <label for="skills">Compétences</label>
      <select id="skills" formControlName="skills" multiple>
        <option *ngFor="let competence of competences" [value]="competence.id">
          {{ competence.nom_fr }} <!-- Afficher le nom de la compétence -->
        </option>
      </select>
    </div>


    <div class="form-group">
      <label for="collaborators">Collaborateurs</label>
      <input id="collaborators" type="text" formControlName="collaborators" />
    </div>

    <button type="submit" [disabled]="missionForm.invalid">Confirmer</button>
    <button type="button" (click)="closeForm()">Fermer</button>
  </form>
</div>
 